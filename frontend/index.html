<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKIBOSS AI - Copiloto Institucional</title>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        
        <div class="sidebar">
            <h2>SKIBOSS AI </h2>
            <a href="#dashboard" class="nav-link active" onclick="showTab('dashboard', this)">1. Dashboard de Recomendaciones</a>
            <a href="#active" class="nav-link" onclick="showTab('active', this)">2. Entradas Activas</a>
            <a href="#journal" class="nav-link" onclick="showTab('journal', this)">3. Historial / Diario de Trading</a>
            <a href="#chart" class="nav-link" onclick="showTab('chart', this)">4. Gráficos del Activo</a>
        </div>

        <div class="main-content">
            
            <div id="dashboard" class="tab-content active">
                <h1>Dashboard de Recomendaciones</h1>
                <p>Oportunidades filtradas con Ratio R/R > 2.0 y Seguridad IA > 80%.</p>

                <div class="controls">
                    <select id="dashboard-timeframe">
                        <option value="1h">Swing (1 Hora)</option>
                        <option value="4h">Posicional (4 Horas)</option>
                        <option value="1d">Largo Plazo (1 Día)</option>
                    </select>
                    <select id="dashboard-asset-type">
                        <option value="ALL">Tipo: Todos</option>
                        </select>
                    <button onclick="loadDashboard()">Actualizar Radar</button>
                </div>
                
                <div id="dashboard-status">Cargando análisis masivo...</div>

                <table>
                    <thead>
                        <tr>
                            <th data-sort="symbol">Activo</th>
                            <th data-sort="asset_type">Tipo</th>
                            <th data-sort="signal">Señal</th>
                            <th data-sort="entry_price">Precio Entrada Óptimo</th>
                            <th data-sort="stop_loss">SL</th>
                            <th data-sort="take_profit">TP</th>
                            <th data-sort="rr_ratio">R/R</th>
                            <th data-sort="expected_roi">ROI (%)</th>
                            <th data-sort="confidence">Seguridad IA (%)</th>
                            <th data-sort="duration">Plazo Est.</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="dashboard-table-body">
                        </tbody>
                </table>
            </div>

            <div id="active" class="tab-content">
                <h1>Entradas Activas (Estado Compartido)</h1>
                <div id="active-trades-status"></div>
                <table>
                    <thead>
                        <tr>
                            <th>Activo</th>
                            <th>Entrada ($)</th>
                            <th>Actual ($)</th>
                            <th>P&L (%)</th>
                            <th>P&L ($)</th>
                            <th>Stop/Target</th>
                            <th>Tiempo Op.</th>
                            <th>Recomendación DRL</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="active-trades-body">
                        </tbody>
                </table>
            </div>

            <div id="journal" class="tab-content">
                <h1>Historial / Diario de Trading</h1>
                <div id="journal-metrics"></div>
                <div id="journal-history">
                    </div>
            </div>

            <div id="chart" class="tab-content">
                <h1>Gráfico de Contexto (TradingView)</h1>
                <div id="tradingview-widget-container" style="height: 600px;">
                    <p style="color: #666; padding-top: 50px; text-align: center;">Selecciona un activo del Dashboard para ver su gráfico y contexto.</p>
                </div>
            </div>

        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>